# 系统吞吐量（TPS）、用户并发量、性能测试概念和公式

系统的吞吐量与请求对CPU的消耗，服务器内存使用，IO等都有关系。

系统吞吐量几个重要参数：QPS(TPS)、并发数、响应时间
QPS(TPS)：每秒处理的请求数
并发数：同时处理的请求数
响应时间：平均响应时间
三者的关系：QPS(TPS)=并发数/平均响应时间

一个系统的吞吐量一般有QPS(TPS)、并发数两个因素决定，每个系统这两个值都有极限值，并不是并发数越高吞吐量越高（并发数越高CPU上下文切换，内存消耗为音影响系统性能）。一个形象的比喻：系统吞吐量和系统并发数以及响应时间的关系理解为高速公路的通行状况：吞吐量是每天通过收费站的车辆数目（可以换算成收费站收取的高速费），并发数是高速公上的正在行驶的车辆数目，响应时间是车速。车辆很少时，车速很快。但是收到的高速费也相应较少；随着高速公路上车辆数目的增多，车速略受影响，但是收到的高速费增加很快；随着车辆的继续增加，车速变得越来越慢，高速公路越来越堵，收费不增反降；如果车流量继续增加，超过某个极限后，任务偶然因素都会导致高速全部瘫痪，车走不动，当然后也收不着，而高速公路成了停车场（资源耗尽）。

* *********************扩展**********************：
TPS：是Transactions Per Second的缩写，也就是事务数/秒。它是软件测试结果的测量单位。一个事务是指一个客户机向服务器发送请求然后服务器做出反应的过程。客户机在发送请求时开始计时，收到服务器响应后结束计时，以此来计算使用的时间和完成的事务个数。
QPS：是Queries Per Second的缩写，意思是每秒查询率，是一台服务器每秒能够相应的查询次数，是对一个特定的查询服务器在规定时间内所处理流量多少的衡量标准。

区别及理解：
1、TPS即每秒处理事务数，包括：”用户请求服务器”、”服务器自己的内部处理”、”服务器返回给用户”，这三个程，每秒能够完成N个这三个过程，TPS也就是3；
2、QPS基本类似于TPS，但是不同的是，对于一个页面的一次访问，形成一个TPS；但一次页面请求，可能产生多次对服务器的请求，服务器对这些请求，就可计入QPS之中。

